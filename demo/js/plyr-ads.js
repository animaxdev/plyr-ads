!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("PlyrAds",t):e.PlyrAds=t()}(this,function(){"use strict";var e={adTagUrl:"",skipButton:{enabled:!0,text:"Skip ad",delay:10}},t=(function(){function e(e){this.value=e}function t(t){function n(r,a){try{var o=t[r](a),s=o.value;s instanceof e?Promise.resolve(s.value).then(function(e){n("next",e)},function(e){n("throw",e)}):i(o.done?"return":"normal",o.value)}catch(e){i("throw",e)}}function i(e,t){switch(e){case"return":r.resolve({value:t,done:!0});break;case"throw":r.reject(t);break;default:r.resolve({value:t,done:!1})}(r=r.next)?n(r.key,r.arg):a=null}var r,a;this._invoke=function(e,t){return new Promise(function(i,o){var s={key:e,arg:t,resolve:i,reject:o,next:null};a?a=a.next=s:(r=a=s,n(e,t))})},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}(),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}),n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r={getStartEvents:function(){var e=["click"];return(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i))&&(e=["touchstart","touchend","touchmove"]),e},mergeConfig:function(e,t){return i({},e,t)}},a=function(){function i(n,a){if(t(this,i),this.config=r.mergeConfig(e,a),!this.config.adTagUrl){if(this.config.debug)throw new Error("No adTagUrl provided.");return this}if(!window.google){if(this.config.debug)throw new Error("The Google IMA3 SDK is not loaded.");return this}this.plyr=n,this.startEvents=r.getStartEvents(),this.adDisplayContainer,this.adDisplayElement,this.adsManager,this.adsLoader,this.adCuePoints,this.currentAd,this.events={},this.videoElement=document.createElement("video"),this._setupAdDisplayContainer(),this._setupIMA(),this._setupListeners()}return n(i,[{key:"_setupIMA",value:function(){var e=this,t=this.plyr.elements.container;this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer,this.videoElement),this.adsLoader.getSettings().setAutoPlayAdBreaks(!1),this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(t){return e._onAdsManagerLoaded(t)},!1),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(t){return e._onAdError(t)},!1);var n=new google.ima.AdsRequest;n.adTagUrl=this.config.adTagUrl,n.linearAdSlotWidth=t.offsetWidth,n.linearAdSlotHeight=t.offsetHeight,n.nonLinearAdSlotWidth=t.offsetWidth,n.nonLinearAdSlotHeight=t.offsetHeight,this.adsLoader.requestAds(n)}},{key:"_onAdsManagerLoaded",value:function(e){var t=this,n=this.videoElement,i=new google.ima.AdsRenderingSettings;i.restoreCustomPlaybackStateOnAdBreakComplete=!0,i.enablePreloading=!0,this.adsManager=e.getAdsManager(n,i),this.adsCuePoints=this.adsManager.getCuePoints().filter(function(e){return e>0&&-1!==e}),this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(e){return t._onAdError(e)}),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,function(e){return t._onAdEvent(e)}),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,function(e){return t._onAdEvent(e)}),this.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(e){return t._onAdEvent(e)}),this.adsManager.addEventListener(google.ima.AdEvent.Type.AD_BREAK_READY,function(e){return t._onAdEvent(e)}),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,function(e){return t._onAdEvent(e)}),this.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,function(e){return t._onAdEvent(e)}),this.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,function(e){return t._onAdEvent(e)})}},{key:"_onAdEvent",value:function(e){var t=this.plyr.elements.container,n=e.getAd();switch(this.currentAd=n,e.type){case google.ima.AdEvent.Type.LOADED:this.adDisplayElement.style.display="block",this._handleEventListeners("LOADED"),n.isLinear()||(n.width=t.offsetWidth,n.height=t.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.plyr.pause(),this._handleEventListeners("STARTED");break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this._handleEventListeners("CONTENT_PAUSE_REQUESTED");break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this._handleEventListeners("CONTENT_RESUME_REQUESTED");break;case google.ima.AdEvent.Type.AD_BREAK_READY:this.plyr.pause(),this.adsManager.start(),this._handleEventListeners("AD_BREAK_READY");break;case google.ima.AdEvent.Type.COMPLETE:this._handleEventListeners("COMPLETE"),this.adDisplayElement.style.display="none",this.plyr.currentTime<this.plyr.duration&&this.plyr.play();break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this._handleEventListeners("ALL_ADS_COMPLETED")}}},{key:"_onAdError",value:function(e){if(this.adDisplayElement.remove(),this.adsManager&&this.adsManager.destroy(),this.config.debug)throw new Error(e)}},{key:"_setupAdDisplayContainer",value:function(){var e=this.plyr.elements.container;this.adDisplayContainer=new google.ima.AdDisplayContainer(e),this.adDisplayElement=e.firstChild,this.adDisplayElement.removeAttribute("style"),this.adDisplayElement.setAttribute("class","plyr-ads"),this._setOnClickHandler(this.adDisplayElement,this._playAds)}},{key:"_playAds",value:function(){var e=this.plyr.elements.container;this.adDisplayContainer.initialize();try{this.adsManager.init(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL),this.adsManager.start()}catch(e){if(this.plyr.play(),this.adDisplayElement.remove(),this.config.debug)throw new Error(e)}}},{key:"_setupListeners",value:function(){var e=this,t=this.plyr.elements.container,n=void 0;this.plyr.on("ended",function(t){e.adsLoader.contentComplete()}),this.plyr.on("timeupdate",function(t){var n=t.detail.plyr.currentTime;e.videoElement.currentTime=Math.ceil(n)}),this.plyr.on("seeking",function(e){return n=e.detail.plyr.currentTime}),this.plyr.on("seeked",function(t){for(var i=t.detail.plyr.currentTime,r=0;r<e.adsCuePoints.length;r++){var a=e.adsCuePoints[r];n<a&&a<i&&(e.adsManager.discardAdBreak(),e.adsCuePoints.splice(r,1))}}),window.addEventListener("resize",function(){e.adsManager.resize(t.offsetWidth,t.offsetHeight,google.ima.ViewMode.NORMAL)})}},{key:"_handleEventListeners",value:function(e){void 0!==this.events[e]&&this.events[e].call(this)}},{key:"_setOnClickHandler",value:function(e,t){var n=this,i=function(i){e.addEventListener(i,function(e){("touchend"===e.type&&"touchend"===i||"click"===e.type)&&t.call(n)},{once:!0})},r=!0,a=!1,o=void 0;try{for(var s,d=this.startEvents[Symbol.iterator]();!(r=(s=d.next()).done);r=!0){i(s.value)}}catch(e){a=!0,o=e}finally{try{!r&&d.return&&d.return()}finally{if(a)throw o}}}},{key:"on",value:function(e,t){return this.events[e]=t,this}}]),i}();return{init:function(e,t){return new a(e,t)}}});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGx5ci1hZHMuanMiLCJzb3VyY2VzIjpbInNyYy9qcy9kZWZhdWx0cy5qcyIsInNyYy9qcy91dGlscy5qcyIsInNyYy9qcy9wbHlyLWFkcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmNvbnN0IGRlZmF1bHRzID0ge1xuICAgIGFkVGFnVXJsOiAnJyxcbiAgICBza2lwQnV0dG9uOiB7XG4gICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgIHRleHQ6ICdTa2lwIGFkJyxcbiAgICAgICAgZGVsYXk6IDEwXG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBkZWZhdWx0czsiLCJcblxuZXhwb3J0IGNvbnN0IHV0aWxzID0ge1xuXG4gICAgLy8gRXZlbnRzIGFyZSBkaWZmZXJlbnQgb24gdmFyaW91cyBkZXZpY2VzLiBXZSBkZXQgdGhlIGNvcnJlY3QgZXZlbnRzLCBiYXNlZCBvbiB1c2VyQWdlbnQuXG4gICAgZ2V0U3RhcnRFdmVudHM6ICgpID0+IHtcbiAgICAgICAgbGV0IHN0YXJ0RXZlbnRzID0gWydjbGljayddO1xuXG4gICAgICAgIC8vIEZvciBtb2JpbGUgdXNlcnMgdGhlIHN0YXJ0IGV2ZW50IHdpbGwgYmUgb25lIG9mXG4gICAgICAgIC8vIHRvdWNoc3RhcnQsIHRvdWNoZW5kIGFuZCB0b3VjaG1vdmUuXG4gICAgICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9pUGhvbmUvaSkgfHxcbiAgICAgICAgICAgIG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL2lQYWQvaSkgfHxcbiAgICAgICAgICAgIG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0FuZHJvaWQvaSkpIHtcbiAgICAgICAgICAgIHN0YXJ0RXZlbnRzID0gWyd0b3VjaHN0YXJ0JywgJ3RvdWNoZW5kJywgJ3RvdWNobW92ZSddO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdGFydEV2ZW50cztcbiAgICB9LFxuXG4gICAgLy8gTWVyZ2UgZGVmYXVsdHMgYW5kIG9wdGlvbnMuXG4gICAgbWVyZ2VDb25maWc6IChkZWZhdWx0cywgb3B0aW9ucykgPT4ge1xuICAgICAgICByZXR1cm4gey4uLmRlZmF1bHRzLCAuLi5vcHRpb25zfTtcbiAgICB9XG59OyIsIi8qKlxuICogVE9ET1xuICogLSBXaGVuIHNlZWtpbmcgbWlkIHJvbGxzIHN0YXJ0IHBsYXlpbmcgYWZ0ZXIgc2Vla2VkLlxuICogICBQb3NzaWJsZSBzb2x1dGlvbjogSW52b2tlIGRpc2NhcmRBZEJyZWFrIGZvciBldmVyeSBza2lwcGVkIG1pZC1yb2xsLlxuICovXG5cbmltcG9ydCBkZWZhdWx0cyBmcm9tIFwiLi9kZWZhdWx0c1wiO1xuaW1wb3J0IHsgdXRpbHMgfSBmcm9tIFwiLi91dGlsc1wiO1xuXG5jbGFzcyBQbHlyQWRzIHtcbiAgY29uc3RydWN0b3IodGFyZ2V0LCBvcHRpb25zKSB7XG4gICAgLy8gU2V0IGNvbmZpZ1xuICAgIHRoaXMuY29uZmlnID0gdXRpbHMubWVyZ2VDb25maWcoZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgLy8gQ2hlY2sgaWYgYW4gYWRUYWdVcmwgaXMgcHJvdmlkZWQuXG4gICAgaWYgKCF0aGlzLmNvbmZpZy5hZFRhZ1VybCkge1xuICAgICAgaWYgKHRoaXMuY29uZmlnLmRlYnVnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGFkVGFnVXJsIHByb3ZpZGVkLlwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIHRoZSBHb29nbGUgSU1BMyBTREsgaXMgbG9hZGVkLlxuICAgIGlmICghd2luZG93Lmdvb2dsZSkge1xuICAgICAgaWYgKHRoaXMuY29uZmlnLmRlYnVnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBHb29nbGUgSU1BMyBTREsgaXMgbm90IGxvYWRlZC5cIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICB0aGlzLnBseXIgPSB0YXJnZXQ7XG4gICAgdGhpcy5zdGFydEV2ZW50cyA9IHV0aWxzLmdldFN0YXJ0RXZlbnRzKCk7XG4gICAgdGhpcy5hZERpc3BsYXlDb250YWluZXI7XG4gICAgdGhpcy5hZERpc3BsYXlFbGVtZW50O1xuICAgIHRoaXMuYWRzTWFuYWdlcjtcbiAgICB0aGlzLmFkc0xvYWRlcjtcbiAgICB0aGlzLmFkQ3VlUG9pbnRzO1xuICAgIHRoaXMuY3VycmVudEFkO1xuICAgIHRoaXMuZXZlbnRzID0ge307XG4gICAgdGhpcy52aWRlb0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIik7XG5cbiAgICAvLyBTZXR1cCB0aGUgYWQgZGlzcGxheSBjb250YWluZXIuXG4gICAgdGhpcy5fc2V0dXBBZERpc3BsYXlDb250YWluZXIoKTtcblxuICAgIC8vIFNldHVwIHRoZSBJTUEgU0RLLlxuICAgIHRoaXMuX3NldHVwSU1BKCk7XG5cbiAgICAvLyBTZXQgbGlzdGVuZXJzIG9uIHRoZSBQbHlyIGluc3RhbmNlLlxuICAgIHRoaXMuX3NldHVwTGlzdGVuZXJzKCk7XG4gIH1cblxuICBfc2V0dXBJTUEoKSB7XG4gICAgY29uc3QgeyBjb250YWluZXIgfSA9IHRoaXMucGx5ci5lbGVtZW50cztcblxuICAgIC8vIENyZWF0ZSBhZHMgbG9hZGVyLlxuICAgIHRoaXMuYWRzTG9hZGVyID0gbmV3IGdvb2dsZS5pbWEuQWRzTG9hZGVyKFxuICAgICAgdGhpcy5hZERpc3BsYXlDb250YWluZXIsXG4gICAgICB0aGlzLnZpZGVvRWxlbWVudFxuICAgICk7XG5cbiAgICAvLyBUZWxsIHRoZSBhZHNMb2FkZXIgd2UgYXJlIGhhbmRsaW5nIGFkIGJyZWFrcyBtYW51YWxseS5cbiAgICB0aGlzLmFkc0xvYWRlci5nZXRTZXR0aW5ncygpLnNldEF1dG9QbGF5QWRCcmVha3MoZmFsc2UpO1xuXG4gICAgLy8gTGlzdGVuIGFuZCByZXNwb25kIHRvIGFkcyBsb2FkZWQgYW5kIGVycm9yIGV2ZW50cy5cbiAgICB0aGlzLmFkc0xvYWRlci5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgZ29vZ2xlLmltYS5BZHNNYW5hZ2VyTG9hZGVkRXZlbnQuVHlwZS5BRFNfTUFOQUdFUl9MT0FERUQsXG4gICAgICBhZEV2ZW50ID0+IHRoaXMuX29uQWRzTWFuYWdlckxvYWRlZChhZEV2ZW50KSxcbiAgICAgIGZhbHNlXG4gICAgKTtcbiAgICB0aGlzLmFkc0xvYWRlci5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgZ29vZ2xlLmltYS5BZEVycm9yRXZlbnQuVHlwZS5BRF9FUlJPUixcbiAgICAgIGFkRXJyb3IgPT4gdGhpcy5fb25BZEVycm9yKGFkRXJyb3IpLFxuICAgICAgZmFsc2VcbiAgICApO1xuXG4gICAgLy8gUmVxdWVzdCB2aWRlbyBhZHMuXG4gICAgY29uc3QgYWRzUmVxdWVzdCA9IG5ldyBnb29nbGUuaW1hLkFkc1JlcXVlc3QoKTtcbiAgICBhZHNSZXF1ZXN0LmFkVGFnVXJsID0gdGhpcy5jb25maWcuYWRUYWdVcmw7XG5cbiAgICAvLyBTcGVjaWZ5IHRoZSBsaW5lYXIgYW5kIG5vbmxpbmVhciBzbG90IHNpemVzLiBUaGlzIGhlbHBzIHRoZSBTREsgdG9cbiAgICAvLyBzZWxlY3QgdGhlIGNvcnJlY3QgY3JlYXRpdmUgaWYgbXVsdGlwbGUgYXJlIHJldHVybmVkLlxuICAgIGFkc1JlcXVlc3QubGluZWFyQWRTbG90V2lkdGggPSBjb250YWluZXIub2Zmc2V0V2lkdGg7XG4gICAgYWRzUmVxdWVzdC5saW5lYXJBZFNsb3RIZWlnaHQgPSBjb250YWluZXIub2Zmc2V0SGVpZ2h0O1xuICAgIGFkc1JlcXVlc3Qubm9uTGluZWFyQWRTbG90V2lkdGggPSBjb250YWluZXIub2Zmc2V0V2lkdGg7XG4gICAgYWRzUmVxdWVzdC5ub25MaW5lYXJBZFNsb3RIZWlnaHQgPSBjb250YWluZXIub2Zmc2V0SGVpZ2h0O1xuXG4gICAgdGhpcy5hZHNMb2FkZXIucmVxdWVzdEFkcyhhZHNSZXF1ZXN0KTtcbiAgfVxuXG4gIF9vbkFkc01hbmFnZXJMb2FkZWQoYWRzTWFuYWdlckxvYWRlZEV2ZW50KSB7XG4gICAgY29uc3QgeyB2aWRlb0VsZW1lbnQgfSA9IHRoaXM7XG5cbiAgICAvLyBHZXQgdGhlIGFkcyBtYW5hZ2VyLlxuICAgIGNvbnN0IGFkc1JlbmRlcmluZ1NldHRpbmdzID0gbmV3IGdvb2dsZS5pbWEuQWRzUmVuZGVyaW5nU2V0dGluZ3MoKTtcbiAgICBhZHNSZW5kZXJpbmdTZXR0aW5ncy5yZXN0b3JlQ3VzdG9tUGxheWJhY2tTdGF0ZU9uQWRCcmVha0NvbXBsZXRlID0gdHJ1ZTtcbiAgICBhZHNSZW5kZXJpbmdTZXR0aW5ncy5lbmFibGVQcmVsb2FkaW5nID0gdHJ1ZTtcblxuICAgIC8vIFRoZSBTREsgaXMgcG9sbGluZyBjdXJyZW50VGltZSBvbiB0aGUgY29udGVudFBsYXliYWNrLiBBbmQgbmVlZHMgYSBkdXJhdGlvblxuICAgIC8vIHNvIGl0IGNhbiBkZXRlcm1pbmUgd2hlbiB0byBzdGFydCB0aGUgbWlkLSBhbmQgcG9zdC1yb2xsLlxuICAgIHRoaXMuYWRzTWFuYWdlciA9IGFkc01hbmFnZXJMb2FkZWRFdmVudC5nZXRBZHNNYW5hZ2VyKFxuICAgICAgdmlkZW9FbGVtZW50LFxuICAgICAgYWRzUmVuZGVyaW5nU2V0dGluZ3NcbiAgICApO1xuXG4gICAgLy8gR2V0IHRoZSBjdWUgcG9pbnRzIGZvciBhbnkgbWlkLXJvbGxzIGJ5IGZpbHRlcmluZyBvdXQgdGhlIHByZS0gYW5kIHBvc3Qtcm9sbC5cbiAgICB0aGlzLmFkc0N1ZVBvaW50cyA9IHRoaXMuYWRzTWFuYWdlclxuICAgICAgLmdldEN1ZVBvaW50cygpXG4gICAgICAuZmlsdGVyKHggPT4geCA+IDAgJiYgeCAhPT0gLTEpO1xuXG4gICAgLy8gQWRkIGxpc3RlbmVycyB0byB0aGUgcmVxdWlyZWQgZXZlbnRzLlxuICAgIHRoaXMuYWRzTWFuYWdlci5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgZ29vZ2xlLmltYS5BZEVycm9yRXZlbnQuVHlwZS5BRF9FUlJPUixcbiAgICAgIGFkRXJyb3IgPT4gdGhpcy5fb25BZEVycm9yKGFkRXJyb3IpXG4gICAgKTtcbiAgICB0aGlzLmFkc01hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLkNPTlRFTlRfUEFVU0VfUkVRVUVTVEVELFxuICAgICAgYWRFdmVudCA9PiB0aGlzLl9vbkFkRXZlbnQoYWRFdmVudCkpO1xuICAgIHRoaXMuYWRzTWFuYWdlci5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuQ09OVEVOVF9SRVNVTUVfUkVRVUVTVEVELFxuICAgICAgYWRFdmVudCA9PiB0aGlzLl9vbkFkRXZlbnQoYWRFdmVudCkpO1xuICAgIHRoaXMuYWRzTWFuYWdlci5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuQUxMX0FEU19DT01QTEVURUQsXG4gICAgICBhZEV2ZW50ID0+IHRoaXMuX29uQWRFdmVudChhZEV2ZW50KVxuICAgICk7XG4gICAgdGhpcy5hZHNNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5BRF9CUkVBS19SRUFEWSxcbiAgICAgIGFkRXZlbnQgPT4gdGhpcy5fb25BZEV2ZW50KGFkRXZlbnQpXG4gICAgKTtcblxuICAgIC8vIExpc3RlbiB0byBhbnkgYWRkaXRpb25hbCBldmVudHMsIGlmIG5lY2Vzc2FyeS5cbiAgICB0aGlzLmFkc01hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5MT0FERUQsIGFkRXZlbnQgPT5cbiAgICAgIHRoaXMuX29uQWRFdmVudChhZEV2ZW50KVxuICAgICk7XG4gICAgdGhpcy5hZHNNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuU1RBUlRFRCwgYWRFdmVudCA9PlxuICAgICAgdGhpcy5fb25BZEV2ZW50KGFkRXZlbnQpXG4gICAgKTtcbiAgICB0aGlzLmFkc01hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLkNPTVBMRVRFLFxuICAgICAgYWRFdmVudCA9PiB0aGlzLl9vbkFkRXZlbnQoYWRFdmVudClcbiAgICApO1xuICB9XG5cbiAgX29uQWRFdmVudChhZEV2ZW50KSB7XG4gICAgY29uc3QgeyBjb250YWluZXIgfSA9IHRoaXMucGx5ci5lbGVtZW50cztcblxuICAgIC8vIFJldHJpZXZlIHRoZSBhZCBmcm9tIHRoZSBldmVudC4gU29tZSBldmVudHMgKGUuZy4gQUxMX0FEU19DT01QTEVURUQpXG4gICAgLy8gZG9uJ3QgaGF2ZSBhZCBvYmplY3QgYXNzb2NpYXRlZC5cbiAgICBjb25zdCBhZCA9IGFkRXZlbnQuZ2V0QWQoKTtcblxuICAgIC8vIFNldCB0aGUgY3VycmVudGx5IHBsYXllZCBhZC4gVGhpcyBpbmZvcm1hdGlvbiBjb3VsZCBiZSB1c2VkIGJ5IGNhbGxiYWNrXG4gICAgLy8gZXZlbnRzLlxuICAgIHRoaXMuY3VycmVudEFkID0gYWQ7XG5cbiAgICAvLyBsZXQgaW50ZXJ2YWxUaW1lcjtcblxuICAgIHN3aXRjaCAoYWRFdmVudC50eXBlKSB7XG4gICAgICBjYXNlIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLkxPQURFRDpcbiAgICAgICAgLy8gVGhpcyBpcyB0aGUgZmlyc3QgZXZlbnQgc2VudCBmb3IgYW4gYWQgLSBpdCBpcyBwb3NzaWJsZSB0b1xuICAgICAgICAvLyBkZXRlcm1pbmUgd2hldGhlciB0aGUgYWQgaXMgYSB2aWRlbyBhZCBvciBhbiBvdmVybGF5LlxuXG4gICAgICAgIC8vIFNob3cgdGhlIGFkIGRpc3BsYXkgZWxlbWVudC5cbiAgICAgICAgdGhpcy5hZERpc3BsYXlFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG5cbiAgICAgICAgdGhpcy5faGFuZGxlRXZlbnRMaXN0ZW5lcnMoXCJMT0FERURcIik7XG5cbiAgICAgICAgaWYgKCFhZC5pc0xpbmVhcigpKSB7XG4gICAgICAgICAgLy8gUG9zaXRpb24gQWREaXNwbGF5Q29udGFpbmVyIGNvcnJlY3RseSBmb3Igb3ZlcmxheS5cbiAgICAgICAgICBhZC53aWR0aCA9IGNvbnRhaW5lci5vZmZzZXRXaWR0aDtcbiAgICAgICAgICBhZC5oZWlnaHQgPSBjb250YWluZXIub2Zmc2V0SGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5TVEFSVEVEOlxuICAgICAgICAvLyBUaGlzIGV2ZW50IGluZGljYXRlcyB0aGUgYWQgaGFzIHN0YXJ0ZWQgLSB0aGUgdmlkZW8gcGxheWVyXG4gICAgICAgIC8vIGNhbiBhZGp1c3QgdGhlIFVJLCBmb3IgZXhhbXBsZSBkaXNwbGF5IGEgcGF1c2UgYnV0dG9uIGFuZFxuICAgICAgICAvLyByZW1haW5pbmcgdGltZS5cblxuICAgICAgICB0aGlzLnBseXIucGF1c2UoKTtcbiAgICAgICAgdGhpcy5faGFuZGxlRXZlbnRMaXN0ZW5lcnMoXCJTVEFSVEVEXCIpO1xuXG4gICAgICAgIC8vIGlmIChhZC5pc0xpbmVhcigpKSB7XG4gICAgICAgIC8vIEZvciBhIGxpbmVhciBhZCwgYSB0aW1lciBjYW4gYmUgc3RhcnRlZCB0byBwb2xsIGZvclxuICAgICAgICAvLyB0aGUgcmVtYWluaW5nIHRpbWUuXG4gICAgICAgIC8vIGludGVydmFsVGltZXIgPSBzZXRJbnRlcnZhbChcbiAgICAgICAgLy8gICAgICgpID0+IHtcbiAgICAgICAgLy8gICAgICAgbGV0IHJlbWFpbmluZ1RpbWUgPSB0aGlzLmFkc01hbmFnZXIuZ2V0UmVtYWluaW5nVGltZSgpO1xuICAgICAgICAvLyAgICAgICBjb25zb2xlLmxvZyhyZW1haW5pbmdUaW1lKTtcbiAgICAgICAgLy8gICAgIH0sXG4gICAgICAgIC8vICAgICAzMDApOyAvLyBldmVyeSAzMDBtc1xuICAgICAgICAvLyB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5DT05URU5UX1BBVVNFX1JFUVVFU1RFRDpcbiAgICAgICAgdGhpcy5faGFuZGxlRXZlbnRMaXN0ZW5lcnMoXCJDT05URU5UX1BBVVNFX1JFUVVFU1RFRFwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLkNPTlRFTlRfUkVTVU1FX1JFUVVFU1RFRDpcbiAgICAgICAgdGhpcy5faGFuZGxlRXZlbnRMaXN0ZW5lcnMoXCJDT05URU5UX1JFU1VNRV9SRVFVRVNURURcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5BRF9CUkVBS19SRUFEWTpcbiAgICAgICAgLy8gVGhpcyBldmVudCBpbmRpY2F0ZXMgdGhhdCBhIG1pZC1yb2xsIGFkIGlzIHJlYWR5IHRvIHN0YXJ0LlxuICAgICAgICAvLyBXZSBwYXVzZSB0aGUgcGxheWVyIGFuZCB0ZWxsIHRoZSBhZHNNYW5hZ2VyIHRvIHN0YXJ0IHBsYXlpbmcgdGhlIGFkLlxuICAgICAgICB0aGlzLnBseXIucGF1c2UoKTtcbiAgICAgICAgdGhpcy5hZHNNYW5hZ2VyLnN0YXJ0KCk7XG4gICAgICAgIHRoaXMuX2hhbmRsZUV2ZW50TGlzdGVuZXJzKFwiQURfQlJFQUtfUkVBRFlcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5DT01QTEVURTpcbiAgICAgICAgLy8gVGhpcyBldmVudCBpbmRpY2F0ZXMgdGhlIGFkIGhhcyBmaW5pc2hlZCAtIHRoZSB2aWRlbyBwbGF5ZXJcbiAgICAgICAgLy8gY2FuIHBlcmZvcm0gYXBwcm9wcmlhdGUgVUkgYWN0aW9ucywgc3VjaCBhcyByZW1vdmluZyB0aGUgdGltZXIgZm9yXG4gICAgICAgIC8vIHJlbWFpbmluZyB0aW1lIGRldGVjdGlvbi5cbiAgICAgICAgLy8gY2xlYXJJbnRlcnZhbChpbnRlcnZhbFRpbWVyKTtcbiAgICAgICAgdGhpcy5faGFuZGxlRXZlbnRMaXN0ZW5lcnMoXCJDT01QTEVURVwiKTtcblxuICAgICAgICB0aGlzLmFkRGlzcGxheUVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICBpZiAodGhpcy5wbHlyLmN1cnJlbnRUaW1lIDwgdGhpcy5wbHlyLmR1cmF0aW9uKSB7XG4gICAgICAgICAgdGhpcy5wbHlyLnBsYXkoKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuQUxMX0FEU19DT01QTEVURUQ6XG4gICAgICAgIHRoaXMuX2hhbmRsZUV2ZW50TGlzdGVuZXJzKFwiQUxMX0FEU19DT01QTEVURURcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgX29uQWRFcnJvcihhZEVycm9yRXZlbnQpIHtcbiAgICAvLyBIYW5kbGUgdGhlIGVycm9yIGxvZ2dpbmcuXG4gICAgdGhpcy5hZERpc3BsYXlFbGVtZW50LnJlbW92ZSgpO1xuXG4gICAgaWYgKHRoaXMuYWRzTWFuYWdlcikge1xuICAgICAgdGhpcy5hZHNNYW5hZ2VyLmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5jb25maWcuZGVidWcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihhZEVycm9yRXZlbnQpO1xuICAgIH1cbiAgfVxuXG4gIF9zZXR1cEFkRGlzcGxheUNvbnRhaW5lcigpIHtcbiAgICBjb25zdCB7IGNvbnRhaW5lciwgb3JpZ2luYWwgfSA9IHRoaXMucGx5ci5lbGVtZW50cztcblxuICAgIC8vIFdlIGFzc3VtZSB0aGUgYWRDb250YWluZXIgaXMgdGhlIHZpZGVvIGNvbnRhaW5lciBvZiB0aGUgcGx5ciBlbGVtZW50XG4gICAgLy8gdGhhdCB3aWxsIGhvdXNlIHRoZSBhZHMuXG4gICAgdGhpcy5hZERpc3BsYXlDb250YWluZXIgPSBuZXcgZ29vZ2xlLmltYS5BZERpc3BsYXlDb250YWluZXIoY29udGFpbmVyKTtcblxuICAgIHRoaXMuYWREaXNwbGF5RWxlbWVudCA9IGNvbnRhaW5lci5maXJzdENoaWxkO1xuXG4gICAgLy8gVGhlIEFkRGlzcGxheUNvbnRhaW5lciBjYWxsIGZyb20gZ29vZ2xlIElNQSBzZXRzIHRoZSBzdHlsZSBhdHRyaWJ1dGVcbiAgICAvLyBieSBkZWZhdWx0LiBXZSByZW1vdmUgdGhlIGlubGluZSBzdHlsZSBhbmQgc2V0IGl0IHRocm91Z2ggdGhlIHN0eWxlc2hlZXQuXG4gICAgdGhpcy5hZERpc3BsYXlFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcInN0eWxlXCIpO1xuXG4gICAgLy8gU2V0IGNsYXNzIG5hbWUgb24gdGhlIGFkRGlzcGxheUNvbnRhaW5lciBlbGVtZW50LlxuICAgIHRoaXMuYWREaXNwbGF5RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInBseXItYWRzXCIpO1xuXG4gICAgLy8gUGxheSBhZHMgd2hlbiBjbGlja2VkLlxuICAgIHRoaXMuX3NldE9uQ2xpY2tIYW5kbGVyKHRoaXMuYWREaXNwbGF5RWxlbWVudCwgdGhpcy5fcGxheUFkcyk7XG4gIH1cblxuICBfcGxheUFkcygpIHtcbiAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gdGhpcy5wbHlyLmVsZW1lbnRzO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSB0aGUgY29udGFpbmVyLiBNdXN0IGJlIGRvbmUgdmlhIGEgdXNlciBhY3Rpb24gb24gbW9iaWxlIGRldmljZXMuXG4gICAgdGhpcy5hZERpc3BsYXlDb250YWluZXIuaW5pdGlhbGl6ZSgpO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIEluaXRpYWxpemUgdGhlIGFkcyBtYW5hZ2VyLiBBZCBydWxlcyBwbGF5bGlzdCB3aWxsIHN0YXJ0IGF0IHRoaXMgdGltZS5cbiAgICAgIHRoaXMuYWRzTWFuYWdlci5pbml0KFxuICAgICAgICBjb250YWluZXIub2Zmc2V0V2lkdGgsXG4gICAgICAgIGNvbnRhaW5lci5vZmZzZXRIZWlnaHQsXG4gICAgICAgIGdvb2dsZS5pbWEuVmlld01vZGUuTk9STUFMXG4gICAgICApO1xuXG4gICAgICAvLyBDYWxsIHBsYXkgdG8gc3RhcnQgc2hvd2luZyB0aGUgYWQuIFNpbmdsZSB2aWRlbyBhbmQgb3ZlcmxheSBhZHMgd2lsbFxuICAgICAgLy8gc3RhcnQgYXQgdGhpcyB0aW1lOyB0aGUgY2FsbCB3aWxsIGJlIGlnbm9yZWQgZm9yIGFkIHJ1bGVzLlxuICAgICAgdGhpcy5hZHNNYW5hZ2VyLnN0YXJ0KCk7XG4gICAgfSBjYXRjaCAoYWRFcnJvcikge1xuICAgICAgLy8gQW4gZXJyb3IgbWF5IGJlIHRocm93biBpZiB0aGVyZSB3YXMgYSBwcm9ibGVtIHdpdGggdGhlIFZBU1QgcmVzcG9uc2UuXG4gICAgICB0aGlzLnBseXIucGxheSgpO1xuICAgICAgdGhpcy5hZERpc3BsYXlFbGVtZW50LnJlbW92ZSgpO1xuXG4gICAgICBpZiAodGhpcy5jb25maWcuZGVidWcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGFkRXJyb3IpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXR1cCBob29rcyBmb3IgUGx5ciBhbmQgd2luZG93IGV2ZW50cy4gVGhpcyBlbnN1cmVzXG4gICAqIHRoZSBtaWQtIGFuZCBwb3N0LXJvbGwgbGF1bmNoIGF0IHRoZSBjb3JyZWN0IHRpbWUuIEFuZFxuICAgKiByZXNpemUgdGhlIGFkdmVydGlzZW1lbnQgd2hlbiB0aGUgcGxheWVyIHJlc2l6ZXMuXG4gICAqL1xuICBfc2V0dXBMaXN0ZW5lcnMoKSB7XG4gICAgY29uc3QgeyBjb250YWluZXIgfSA9IHRoaXMucGx5ci5lbGVtZW50cztcbiAgICBsZXQgY3VycmVudFRpbWU7XG5cbiAgICAvLyBBZGQgbGlzdGVuZXJzIHRvIHRoZSByZXF1aXJlZCBldmVudHMuXG4gICAgdGhpcy5wbHlyLm9uKFwiZW5kZWRcIiwgZXZlbnQgPT4ge1xuICAgICAgdGhpcy5hZHNMb2FkZXIuY29udGVudENvbXBsZXRlKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnBseXIub24oXCJ0aW1ldXBkYXRlXCIsIGV2ZW50ID0+IHtcbiAgICAgIGNvbnN0IHsgY3VycmVudFRpbWUgfSA9IGV2ZW50LmRldGFpbC5wbHlyO1xuICAgICAgdGhpcy52aWRlb0VsZW1lbnQuY3VycmVudFRpbWUgPSBNYXRoLmNlaWwoY3VycmVudFRpbWUpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5wbHlyLm9uKFxuICAgICAgXCJzZWVraW5nXCIsXG4gICAgICBldmVudCA9PiAoY3VycmVudFRpbWUgPSBldmVudC5kZXRhaWwucGx5ci5jdXJyZW50VGltZSlcbiAgICApO1xuXG4gICAgdGhpcy5wbHlyLm9uKFwic2Vla2VkXCIsIGV2ZW50ID0+IHtcbiAgICAgIGNvbnN0IHNlZWtlZFRpbWUgPSBldmVudC5kZXRhaWwucGx5ci5jdXJyZW50VGltZTtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmFkc0N1ZVBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjdWVQb2ludCA9IHRoaXMuYWRzQ3VlUG9pbnRzW2ldO1xuICAgICAgICBpZiAoY3VycmVudFRpbWUgPCBjdWVQb2ludCAmJiBjdWVQb2ludCA8IHNlZWtlZFRpbWUpIHtcbiAgICAgICAgICB0aGlzLmFkc01hbmFnZXIuZGlzY2FyZEFkQnJlYWsoKTtcbiAgICAgICAgICB0aGlzLmFkc0N1ZVBvaW50cy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIExpc3RlbiB0byB0aGUgcmVzaXppbmcgb2YgdGhlIHdpbmRvdy4gQW5kIHJlc2l6ZSBhZCBhY2NvcmRpbmdseS5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCAoKSA9PiB7XG4gICAgICB0aGlzLmFkc01hbmFnZXIucmVzaXplKFxuICAgICAgICBjb250YWluZXIub2Zmc2V0V2lkdGgsXG4gICAgICAgIGNvbnRhaW5lci5vZmZzZXRIZWlnaHQsXG4gICAgICAgIGdvb2dsZS5pbWEuVmlld01vZGUuTk9STUFMXG4gICAgICApO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgY2FsbGJhY2tzIGFmdGVyIGFuIGFkIGV2ZW50IHdhcyBpbnZva2VkLlxuICAgKi9cbiAgX2hhbmRsZUV2ZW50TGlzdGVuZXJzKGV2ZW50KSB7XG4gICAgaWYgKHR5cGVvZih0aGlzLmV2ZW50c1tldmVudF0pICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5ldmVudHNbZXZlbnRdLmNhbGwodGhpcyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBzdGFydCBldmVudCBsaXN0ZW5lciBvbiBhIERPTSBlbGVtZW50IGFuZCB0cmlnZ2VycyB0aGVcbiAgICogY2FsbGJhY2sgd2hlbiBjbGlja2VkLlxuICAgKiBAcGFyYW0ge0h0bWxFbG1lbnR9IGVsZW1lbnQgLSBUaGUgZWxlbWVudCBvbiB3aGljaCB0byBzZXQgdGhlIGxpc3RlbmVyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gVGhlIGNhbGxiYWNrIHdoaWNoIHdpbGwgYmUgaW52b2tlZCBvbmNlIHRyaWdnZXJlZC5cbiAgICovXG5cbiAgX3NldE9uQ2xpY2tIYW5kbGVyKGVsZW1lbnQsIGNhbGxiYWNrKSB7XG4gICAgZm9yIChsZXQgc3RhcnRFdmVudCBvZiB0aGlzLnN0YXJ0RXZlbnRzKSB7XG4gICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgIHN0YXJ0RXZlbnQsXG4gICAgICAgIGV2ZW50ID0+IHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAoZXZlbnQudHlwZSA9PT0gXCJ0b3VjaGVuZFwiICYmIHN0YXJ0RXZlbnQgPT09IFwidG91Y2hlbmRcIikgfHxcbiAgICAgICAgICAgIGV2ZW50LnR5cGUgPT09IFwiY2xpY2tcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHsgb25jZTogdHJ1ZSB9XG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgZXZlbnQgbGlzdGVuZXJzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudCAtIEV2ZW50IHR5cGVcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBDYWxsYmFjayBmb3Igd2hlbiBldmVudCBvY2N1cnNcbiAgICovXG4gIG9uKGV2ZW50LCBjYWxsYmFjaykge1xuICAgIHRoaXMuZXZlbnRzW2V2ZW50XSA9IGNhbGxiYWNrO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaW5pdDogKHRhcmdldCwgb3B0aW9ucykgPT4gbmV3IFBseXJBZHModGFyZ2V0LCBvcHRpb25zKVxufTtcbiJdLCJuYW1lcyI6WyJkZWZhdWx0cyIsInV0aWxzIiwic3RhcnRFdmVudHMiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJtYXRjaCIsIm9wdGlvbnMiLCJQbHlyQWRzIiwidGFyZ2V0IiwiY29uZmlnIiwibWVyZ2VDb25maWciLCJ0aGlzIiwiYWRUYWdVcmwiLCJkZWJ1ZyIsIkVycm9yIiwid2luZG93IiwiZ29vZ2xlIiwicGx5ciIsImdldFN0YXJ0RXZlbnRzIiwiYWREaXNwbGF5Q29udGFpbmVyIiwiYWREaXNwbGF5RWxlbWVudCIsImFkc01hbmFnZXIiLCJhZHNMb2FkZXIiLCJhZEN1ZVBvaW50cyIsImN1cnJlbnRBZCIsImV2ZW50cyIsInZpZGVvRWxlbWVudCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsIl9zZXR1cEFkRGlzcGxheUNvbnRhaW5lciIsIl9zZXR1cElNQSIsIl9zZXR1cExpc3RlbmVycyIsImNvbnRhaW5lciIsImVsZW1lbnRzIiwiaW1hIiwiQWRzTG9hZGVyIiwiZ2V0U2V0dGluZ3MiLCJzZXRBdXRvUGxheUFkQnJlYWtzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIkFkc01hbmFnZXJMb2FkZWRFdmVudCIsIlR5cGUiLCJBRFNfTUFOQUdFUl9MT0FERUQiLCJfdGhpcyIsIl9vbkFkc01hbmFnZXJMb2FkZWQiLCJhZEV2ZW50IiwiQWRFcnJvckV2ZW50IiwiQURfRVJST1IiLCJfb25BZEVycm9yIiwiYWRFcnJvciIsImFkc1JlcXVlc3QiLCJBZHNSZXF1ZXN0IiwibGluZWFyQWRTbG90V2lkdGgiLCJvZmZzZXRXaWR0aCIsImxpbmVhckFkU2xvdEhlaWdodCIsIm9mZnNldEhlaWdodCIsIm5vbkxpbmVhckFkU2xvdFdpZHRoIiwibm9uTGluZWFyQWRTbG90SGVpZ2h0IiwicmVxdWVzdEFkcyIsImFkc01hbmFnZXJMb2FkZWRFdmVudCIsImFkc1JlbmRlcmluZ1NldHRpbmdzIiwiQWRzUmVuZGVyaW5nU2V0dGluZ3MiLCJyZXN0b3JlQ3VzdG9tUGxheWJhY2tTdGF0ZU9uQWRCcmVha0NvbXBsZXRlIiwiZW5hYmxlUHJlbG9hZGluZyIsImdldEFkc01hbmFnZXIiLCJhZHNDdWVQb2ludHMiLCJnZXRDdWVQb2ludHMiLCJmaWx0ZXIiLCJ4IiwiX3RoaXMyIiwiQWRFdmVudCIsIkNPTlRFTlRfUEFVU0VfUkVRVUVTVEVEIiwiX29uQWRFdmVudCIsIkNPTlRFTlRfUkVTVU1FX1JFUVVFU1RFRCIsIkFMTF9BRFNfQ09NUExFVEVEIiwiQURfQlJFQUtfUkVBRFkiLCJMT0FERUQiLCJTVEFSVEVEIiwiQ09NUExFVEUiLCJhZCIsImdldEFkIiwidHlwZSIsInN0eWxlIiwiZGlzcGxheSIsIl9oYW5kbGVFdmVudExpc3RlbmVycyIsImlzTGluZWFyIiwid2lkdGgiLCJoZWlnaHQiLCJwYXVzZSIsInN0YXJ0IiwiY3VycmVudFRpbWUiLCJkdXJhdGlvbiIsInBsYXkiLCJhZEVycm9yRXZlbnQiLCJyZW1vdmUiLCJkZXN0cm95IiwiQWREaXNwbGF5Q29udGFpbmVyIiwiZmlyc3RDaGlsZCIsInJlbW92ZUF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsIl9zZXRPbkNsaWNrSGFuZGxlciIsIl9wbGF5QWRzIiwiaW5pdGlhbGl6ZSIsImluaXQiLCJWaWV3TW9kZSIsIk5PUk1BTCIsIm9uIiwiY29udGVudENvbXBsZXRlIiwiZXZlbnQiLCJkZXRhaWwiLCJNYXRoIiwiY2VpbCIsInNlZWtlZFRpbWUiLCJpIiwiX3RoaXMzIiwibGVuZ3RoIiwiY3VlUG9pbnQiLCJkaXNjYXJkQWRCcmVhayIsInNwbGljZSIsInJlc2l6ZSIsImNhbGwiLCJlbGVtZW50IiwiY2FsbGJhY2siLCJzdGFydEV2ZW50Iiwib25jZSJdLCJtYXBwaW5ncyI6IjZMQUNBLElBQU1BLFlBQ1Esd0JBRUcsT0FDSCxnQkFDQyx5NUNDSkZDLGtCQUdPLGVBQ1JDLEdBQWUsZ0JBSWZDLFVBQVVDLFVBQVVDLE1BQU0sWUFDMUJGLFVBQVVDLFVBQVVDLE1BQU0sVUFDMUJGLFVBQVVDLFVBQVVDLE1BQU0sa0JBQ1gsYUFBYyxXQUFZLGNBRXRDSCxlQUlFLFNBQUNGLEVBQVVNLGVBQ1ROLEVBQWFNLEtDWDFCQyx3QkFDUUMsRUFBUUYscUJBRWJHLE9BQVNSLEVBQU1TLFlBQVlWLEVBQVVNLElBR3JDSyxLQUFLRixPQUFPRyxTQUFVLElBQ3JCRCxLQUFLRixPQUFPSSxZQUNSLElBQUlDLE1BQU0sZ0NBRVhILFNBSUpJLE9BQU9DLE9BQVEsSUFDZEwsS0FBS0YsT0FBT0ksWUFDUixJQUFJQyxNQUFNLDZDQUVYSCxVQUdKTSxLQUFPVCxPQUNQTixZQUFjRCxFQUFNaUIsc0JBQ3BCQyx3QkFDQUMsc0JBQ0FDLGdCQUNBQyxlQUNBQyxpQkFDQUMsZUFDQUMsZUFDQUMsYUFBZUMsU0FBU0MsY0FBYyxjQUd0Q0MsZ0NBR0FDLGlCQUdBQywyRUFJR0MsRUFBY3JCLEtBQUtNLEtBQUtnQixTQUF4QkQsZUFHSFYsVUFBWSxJQUFJTixPQUFPa0IsSUFBSUMsVUFDOUJ4QixLQUFLUSxtQkFDTFIsS0FBS2UsbUJBSUZKLFVBQVVjLGNBQWNDLHFCQUFvQixRQUc1Q2YsVUFBVWdCLGlCQUNidEIsT0FBT2tCLElBQUlLLHNCQUFzQkMsS0FBS0MsbUJBQ3RDLG1CQUFXQyxFQUFLQyxvQkFBb0JDLEtBQ3BDLFFBRUd0QixVQUFVZ0IsaUJBQ2J0QixPQUFPa0IsSUFBSVcsYUFBYUwsS0FBS00sU0FDN0IsbUJBQVdKLEVBQUtLLFdBQVdDLEtBQzNCLE9BSUlDLEVBQWEsSUFBSWpDLE9BQU9rQixJQUFJZ0IsYUFDdkJ0QyxTQUFXRCxLQUFLRixPQUFPRyxXQUl2QnVDLGtCQUFvQm5CLEVBQVVvQixjQUM5QkMsbUJBQXFCckIsRUFBVXNCLGVBQy9CQyxxQkFBdUJ2QixFQUFVb0IsY0FDakNJLHNCQUF3QnhCLEVBQVVzQixrQkFFeENoQyxVQUFVbUMsV0FBV1IsK0NBR1JTLGNBQ1ZoQyxFQUFpQmYsS0FBakJlLGFBR0ZpQyxFQUF1QixJQUFJM0MsT0FBT2tCLElBQUkwQix1QkFDdkJDLDZDQUE4QyxJQUM5Q0Msa0JBQW1CLE9BSW5DekMsV0FBYXFDLEVBQXNCSyxjQUN0Q3JDLEVBQ0FpQyxRQUlHSyxhQUFlckQsS0FBS1UsV0FDdEI0QyxlQUNBQyxPQUFPLG1CQUFLQyxFQUFJLElBQVksSUFBUEEsU0FHbkI5QyxXQUFXaUIsaUJBQ2R0QixPQUFPa0IsSUFBSVcsYUFBYUwsS0FBS00sU0FDN0IsbUJBQVdzQixFQUFLckIsV0FBV0MsVUFFeEIzQixXQUFXaUIsaUJBQ2R0QixPQUFPa0IsSUFBSW1DLFFBQVE3QixLQUFLOEIsd0JBQ3hCLG1CQUFXRixFQUFLRyxXQUFXM0IsVUFDeEJ2QixXQUFXaUIsaUJBQ2R0QixPQUFPa0IsSUFBSW1DLFFBQVE3QixLQUFLZ0MseUJBQ3hCLG1CQUFXSixFQUFLRyxXQUFXM0IsVUFDeEJ2QixXQUFXaUIsaUJBQ2R0QixPQUFPa0IsSUFBSW1DLFFBQVE3QixLQUFLaUMsa0JBQ3hCLG1CQUFXTCxFQUFLRyxXQUFXM0IsVUFFeEJ2QixXQUFXaUIsaUJBQ2R0QixPQUFPa0IsSUFBSW1DLFFBQVE3QixLQUFLa0MsZUFDeEIsbUJBQVdOLEVBQUtHLFdBQVczQixVQUl4QnZCLFdBQVdpQixpQkFBaUJ0QixPQUFPa0IsSUFBSW1DLFFBQVE3QixLQUFLbUMsT0FBUSxtQkFDL0RQLEVBQUtHLFdBQVczQixVQUVidkIsV0FBV2lCLGlCQUFpQnRCLE9BQU9rQixJQUFJbUMsUUFBUTdCLEtBQUtvQyxRQUFTLG1CQUNoRVIsRUFBS0csV0FBVzNCLFVBRWJ2QixXQUFXaUIsaUJBQ2R0QixPQUFPa0IsSUFBSW1DLFFBQVE3QixLQUFLcUMsU0FDeEIsbUJBQVdULEVBQUtHLFdBQVczQix3Q0FJcEJBLE9BQ0RaLEVBQWNyQixLQUFLTSxLQUFLZ0IsU0FBeEJELFVBSUY4QyxFQUFLbEMsRUFBUW1DLG9CQUlkdkQsVUFBWXNELEVBSVRsQyxFQUFRb0MsV0FDVGhFLE9BQU9rQixJQUFJbUMsUUFBUTdCLEtBQUttQyxZQUt0QnZELGlCQUFpQjZELE1BQU1DLFFBQVUsYUFFakNDLHNCQUFzQixVQUV0QkwsRUFBR00sZUFFSEMsTUFBUXJELEVBQVVvQixjQUNsQmtDLE9BQVN0RCxFQUFVc0IseUJBR3JCdEMsT0FBT2tCLElBQUltQyxRQUFRN0IsS0FBS29DLGFBS3RCM0QsS0FBS3NFLGFBQ0xKLHNCQUFzQixzQkFheEJuRSxPQUFPa0IsSUFBSW1DLFFBQVE3QixLQUFLOEIsNkJBQ3RCYSxzQkFBc0Isc0NBRXhCbkUsT0FBT2tCLElBQUltQyxRQUFRN0IsS0FBS2dDLDhCQUN0Qlcsc0JBQXNCLHVDQUV4Qm5FLE9BQU9rQixJQUFJbUMsUUFBUTdCLEtBQUtrQyxvQkFHdEJ6RCxLQUFLc0UsYUFDTGxFLFdBQVdtRSxhQUNYTCxzQkFBc0IsNkJBRXhCbkUsT0FBT2tCLElBQUltQyxRQUFRN0IsS0FBS3FDLGNBS3RCTSxzQkFBc0IsaUJBRXRCL0QsaUJBQWlCNkQsTUFBTUMsUUFBVSxPQUNsQ3ZFLEtBQUtNLEtBQUt3RSxZQUFjOUUsS0FBS00sS0FBS3lFLGVBQy9CekUsS0FBSzBFLGtCQUdUM0UsT0FBT2tCLElBQUltQyxRQUFRN0IsS0FBS2lDLHVCQUN0QlUsc0JBQXNCLHlEQU90QlMsV0FFSnhFLGlCQUFpQnlFLFNBRWxCbEYsS0FBS1UsaUJBQ0ZBLFdBQVd5RSxVQUdkbkYsS0FBS0YsT0FBT0ksWUFDUixJQUFJQyxNQUFNOEUsMERBS1Y1RCxFQUF3QnJCLEtBQUtNLEtBQUtnQixTQUFsQ0QsZUFJSGIsbUJBQXFCLElBQUlILE9BQU9rQixJQUFJNkQsbUJBQW1CL0QsUUFFdkRaLGlCQUFtQlksRUFBVWdFLGdCQUk3QjVFLGlCQUFpQjZFLGdCQUFnQixjQUdqQzdFLGlCQUFpQjhFLGFBQWEsUUFBUyxpQkFHdkNDLG1CQUFtQnhGLEtBQUtTLGlCQUFrQlQsS0FBS3lGLGlEQUk1Q3BFLEVBQWNyQixLQUFLTSxLQUFLZ0IsU0FBeEJELGVBR0hiLG1CQUFtQmtGLHNCQUlqQmhGLFdBQVdpRixLQUNkdEUsRUFBVW9CLFlBQ1ZwQixFQUFVc0IsYUFDVnRDLE9BQU9rQixJQUFJcUUsU0FBU0MsYUFLakJuRixXQUFXbUUsUUFDaEIsTUFBT3hDLFdBRUYvQixLQUFLMEUsWUFDTHZFLGlCQUFpQnlFLFNBRWxCbEYsS0FBS0YsT0FBT0ksWUFDUixJQUFJQyxNQUFNa0MseURBV1poQixFQUFjckIsS0FBS00sS0FBS2dCLFNBQXhCRCxVQUNKeUQsY0FHQ3hFLEtBQUt3RixHQUFHLFFBQVMsY0FDZm5GLFVBQVVvRix5QkFHWnpGLEtBQUt3RixHQUFHLGFBQWMsZ0JBQ2pCaEIsRUFBZ0JrQixFQUFNQyxPQUFPM0YsS0FBN0J3RSxjQUNIL0QsYUFBYStELFlBQWNvQixLQUFLQyxLQUFLckIsVUFHdkN4RSxLQUFLd0YsR0FDUixVQUNBLG1CQUFVaEIsRUFBY2tCLEVBQU1DLE9BQU8zRixLQUFLd0UsbUJBR3ZDeEUsS0FBS3dGLEdBQUcsU0FBVSxnQkFHaEIsSUFGQ00sRUFBYUosRUFBTUMsT0FBTzNGLEtBQUt3RSxZQUU1QnVCLEVBQUksRUFBR0EsRUFBSUMsRUFBS2pELGFBQWFrRCxPQUFRRixJQUFLLEtBQzNDRyxFQUFXRixFQUFLakQsYUFBYWdELEdBQy9CdkIsRUFBYzBCLEdBQVlBLEVBQVdKLE1BQ2xDMUYsV0FBVytGLG1CQUNYcEQsYUFBYXFELE9BQU9MLEVBQUcsY0FNM0IxRSxpQkFBaUIsU0FBVSxhQUMzQmpCLFdBQVdpRyxPQUNkdEYsRUFBVW9CLFlBQ1ZwQixFQUFVc0IsYUFDVnRDLE9BQU9rQixJQUFJcUUsU0FBU0Msd0RBUUpHLFFBQ2UsSUFBeEJoRyxLQUFLYyxPQUFPa0YsU0FDaEJsRixPQUFPa0YsR0FBT1ksS0FBSzVHLGlEQVdUNkcsRUFBU0MseUJBQ2pCQyxLQUNDcEYsaUJBQ05vRixFQUNBLGFBRW9CLGFBQWZmLEVBQU0zQixNQUFzQyxhQUFmMEMsR0FDZixVQUFmZixFQUFNM0IsU0FFR3VDLFVBR1hJLE1BQU0sd0NBWFdoSCxLQUFLVCwyREFBYSxzSEFxQnhDeUcsRUFBT2MsZUFDSGhHLE9BQU9rRixHQUFTYyxFQUNkOUcsMEJBS0gsU0FBQ0gsRUFBUUYsVUFBWSxJQUFJQyxFQUFRQyxFQUFRRiJ9
