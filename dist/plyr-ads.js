!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("PlyrAds",t):e.PlyrAds=t()}(this,function(){"use strict";var e={adTagUrl:"",skipButton:{enabled:!0,text:"Skip ad",delay:10}},t=(function(){function e(e){this.value=e}function t(t){function n(r,a){try{var o=t[r](a),s=o.value;s instanceof e?Promise.resolve(s.value).then(function(e){n("next",e)},function(e){n("throw",e)}):i(o.done?"return":"normal",o.value)}catch(e){i("throw",e)}}function i(e,t){switch(e){case"return":r.resolve({value:t,done:!0});break;case"throw":r.reject(t);break;default:r.resolve({value:t,done:!1})}(r=r.next)?n(r.key,r.arg):a=null}var r,a;this._invoke=function(e,t){return new Promise(function(i,o){var s={key:e,arg:t,resolve:i,reject:o,next:null};a?a=a.next=s:(r=a=s,n(e,t))})},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}(),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}),n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r={getStartEvents:function(){var e=["click"];return(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i))&&(e=["touchstart","touchend","touchmove"]),e},mergeConfig:function(e,t){return i({},e,t)}},a=function(){function i(n,a){if(t(this,i),this.config=r.mergeConfig(e,a),this.config.adTagUrl||!this.config.debug){if(window.google)this.plyr=n,this.startEvents=r.getStartEvents(),this.adDisplayContainer,this.adDisplayElement,this.adsManager,this.adsLoader,this.adCuePoints,this.videoElement=document.createElement("video"),this._setupAdDisplayContainer(),this._setupIMA(),this._setupListeners();else if(this.config.debug)throw new Error("The Google IMA3 SDK is not loaded.")}else if(this.config.debug)throw new Error("No adTagUrl provided.")}return n(i,[{key:"_setupIMA",value:function(){var e=this,t=this.plyr.elements.container;this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer,this.videoElement),this.adsLoader.getSettings().setAutoPlayAdBreaks(!1),this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(t){return e._onAdsManagerLoaded(t)},!1),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(t){return e._onAdError(t)},!1);var n=new google.ima.AdsRequest;n.adTagUrl=this.config.adTagUrl,n.linearAdSlotWidth=t.offsetWidth,n.linearAdSlotHeight=t.offsetHeight,n.nonLinearAdSlotWidth=t.offsetWidth,n.nonLinearAdSlotHeight=t.offsetHeight,this.adsLoader.requestAds(n)}},{key:"_onAdsManagerLoaded",value:function(e){var t=this,n=this.videoElement,i=new google.ima.AdsRenderingSettings;i.restoreCustomPlaybackStateOnAdBreakComplete=!0,i.enablePreloading=!0,this.adsManager=e.getAdsManager(n,i),this.adsCuePoints=this.adsManager.getCuePoints().filter(function(e){return e>0&&-1!==e}),this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(e){return t._onAdError(e)}),this.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(e){return t._onAdEvent(e)}),this.adsManager.addEventListener(google.ima.AdEvent.Type.AD_BREAK_READY,function(e){return t._onAdEvent(e)}),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,function(e){return t._onAdEvent(e)}),this.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,function(e){return t._onAdEvent(e)}),this.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,function(e){return t._onAdEvent(e)})}},{key:"_onAdEvent",value:function(e){var t=this.plyr.elements.container,n=e.getAd();switch(e.type){case google.ima.AdEvent.Type.LOADED:this.adDisplayElement.style.display="block",n.isLinear()||(n.width=t.offsetWidth,n.height=t.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.plyr.pause();break;case google.ima.AdEvent.Type.AD_BREAK_READY:this.plyr.pause(),this.adsManager.start();break;case google.ima.AdEvent.Type.COMPLETE:this.adDisplayElement.style.display="none",this.plyr.currentTime<this.plyr.duration&&this.plyr.play();break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:}}},{key:"_onAdError",value:function(e){if(this.adDisplayElement.remove(),this.adsManager&&this.adsManager.destroy(),this.config.debug)throw console.log(e),new Error(e)}},{key:"_onContentPauseRequested",value:function(){this.plyr.pause()}},{key:"_onContentResumeRequested",value:function(){this.plyr.play()}},{key:"_setupAdDisplayContainer",value:function(){var e=this.plyr.elements.container;this.adDisplayContainer=new google.ima.AdDisplayContainer(e),this.adDisplayElement=e.firstChild,this.adDisplayElement.removeAttribute("style"),this.adDisplayElement.setAttribute("class","plyr-ads"),this._setOnClickHandler(this.adDisplayElement,this._playAds)}},{key:"_playAds",value:function(){var e=this.plyr.elements.container;this.adDisplayContainer.initialize();try{this.adsManager.init(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL),this.adsManager.start()}catch(e){if(this.plyr.play(),this.adDisplayElement.remove(),this.config.debug)throw new Error(e)}}},{key:"_setupListeners",value:function(){var e=this,t=this.plyr.elements.container,n=void 0;this.plyr.on("ended",function(t){e.adsLoader.contentComplete()}),this.plyr.on("timeupdate",function(t){var n=t.detail.plyr.currentTime;e.videoElement.currentTime=Math.ceil(n)}),this.plyr.on("seeking",function(e){return n=e.detail.plyr.currentTime}),this.plyr.on("seeked",function(t){for(var i=t.detail.plyr.currentTime,r=0;r<e.adsCuePoints.length;r++){var a=e.adsCuePoints[r];n<a&&a<i&&(e.adsManager.discardAdBreak(),e.adsCuePoints.splice(r,1))}}),window.addEventListener("resize",function(){e.adsManager.resize(t.offsetWidth,t.offsetHeight,google.ima.ViewMode.NORMAL)})}},{key:"_setOnClickHandler",value:function(e,t){var n=this,i=function(i){e.addEventListener(i,function(e){("touchend"===e.type&&"touchend"===i||"click"===e.type)&&t.call(n)},{once:!0})},r=!0,a=!1,o=void 0;try{for(var s,d=this.startEvents[Symbol.iterator]();!(r=(s=d.next()).done);r=!0){i(s.value)}}catch(e){a=!0,o=e}finally{try{!r&&d.return&&d.return()}finally{if(a)throw o}}}},{key:"on",value:function(e,t){return r.on(this.elements.container,e,t),this}}]),i}();return{init:function(e,t){return new a(e,t)}}});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGx5ci1hZHMuanMiLCJzb3VyY2VzIjpbInNyYy9qcy9kZWZhdWx0cy5qcyIsInNyYy9qcy91dGlscy5qcyIsInNyYy9qcy9wbHlyLWFkcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmNvbnN0IGRlZmF1bHRzID0ge1xuICAgIGFkVGFnVXJsOiAnJyxcbiAgICBza2lwQnV0dG9uOiB7XG4gICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgIHRleHQ6ICdTa2lwIGFkJyxcbiAgICAgICAgZGVsYXk6IDEwXG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBkZWZhdWx0czsiLCJcblxuZXhwb3J0IGNvbnN0IHV0aWxzID0ge1xuXG4gICAgLy8gRXZlbnRzIGFyZSBkaWZmZXJlbnQgb24gdmFyaW91cyBkZXZpY2VzLiBXZSBkZXQgdGhlIGNvcnJlY3QgZXZlbnRzLCBiYXNlZCBvbiB1c2VyQWdlbnQuXG4gICAgZ2V0U3RhcnRFdmVudHM6ICgpID0+IHtcbiAgICAgICAgbGV0IHN0YXJ0RXZlbnRzID0gWydjbGljayddO1xuICAgICAgICBcbiAgICAgICAgLy8gRm9yIG1vYmlsZSB1c2VycyB0aGUgc3RhcnQgZXZlbnQgd2lsbCBiZSBvbmUgb2ZcbiAgICAgICAgLy8gdG91Y2hzdGFydCwgdG91Y2hlbmQgYW5kIHRvdWNobW92ZS5cbiAgICAgICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL2lQaG9uZS9pKSB8fFxuICAgICAgICAgICAgbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvaVBhZC9pKSB8fFxuICAgICAgICAgICAgbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQW5kcm9pZC9pKSkge1xuICAgICAgICAgICAgc3RhcnRFdmVudHMgPSBbJ3RvdWNoc3RhcnQnLCAndG91Y2hlbmQnLCAndG91Y2htb3ZlJ107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YXJ0RXZlbnRzO1xuICAgIH0sXG5cbiAgICAvLyBNZXJnZSBkZWZhdWx0cyBhbmQgb3B0aW9ucy5cbiAgICBtZXJnZUNvbmZpZzogKGRlZmF1bHRzLCBvcHRpb25zKSA9PiB7XG4gICAgICAgIHJldHVybiB7Li4uZGVmYXVsdHMsIC4uLm9wdGlvbnN9O1xuICAgIH1cbn07IiwiLyoqXG4gKiBUT0RPXG4gKiAtIFdoZW4gc2Vla2luZyBtaWQgcm9sbHMgc3RhcnQgcGxheWluZyBhZnRlciBzZWVrZWQuXG4gKiAgIFBvc3NpYmxlIHNvbHV0aW9uOiBJbnZva2UgZGlzY2FyZEFkQnJlYWsgZm9yIGV2ZXJ5IHNraXBwZWQgbWlkLXJvbGwuXG4gKi9cblxuaW1wb3J0IGRlZmF1bHRzIGZyb20gXCIuL2RlZmF1bHRzXCI7XG5pbXBvcnQgeyB1dGlscyB9IGZyb20gXCIuL3V0aWxzXCI7XG5cbmNsYXNzIFBseXJBZHMge1xuICBjb25zdHJ1Y3Rvcih0YXJnZXQsIG9wdGlvbnMpIHtcbiAgICAvLyBTZXQgY29uZmlnXG4gICAgdGhpcy5jb25maWcgPSB1dGlscy5tZXJnZUNvbmZpZyhkZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAvLyBDaGVjayBpZiBhIGFkVGFnVXJsIHVzIHByb3ZpZGVkLlxuICAgIGlmICghdGhpcy5jb25maWcuYWRUYWdVcmwgJiYgdGhpcy5jb25maWcuZGVidWcpIHtcbiAgICAgIGlmICh0aGlzLmNvbmZpZy5kZWJ1Zykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBhZFRhZ1VybCBwcm92aWRlZC5cIik7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgdGhlIEdvb2dsZSBJTUEzIFNESyBpcyBsb2FkZWQuXG4gICAgaWYgKCF3aW5kb3cuZ29vZ2xlKSB7XG4gICAgICBpZiAodGhpcy5jb25maWcuZGVidWcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIEdvb2dsZSBJTUEzIFNESyBpcyBub3QgbG9hZGVkLlwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnBseXIgPSB0YXJnZXQ7XG4gICAgdGhpcy5zdGFydEV2ZW50cyA9IHV0aWxzLmdldFN0YXJ0RXZlbnRzKCk7XG4gICAgdGhpcy5hZERpc3BsYXlDb250YWluZXI7XG4gICAgdGhpcy5hZERpc3BsYXlFbGVtZW50O1xuICAgIHRoaXMuYWRzTWFuYWdlcjtcbiAgICB0aGlzLmFkc0xvYWRlcjtcbiAgICB0aGlzLmFkQ3VlUG9pbnRzO1xuICAgIHRoaXMudmlkZW9FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpO1xuXG4gICAgLy8gU2V0dXAgdGhlIGFkIGRpc3BsYXkgY29udGFpbmVyLlxuICAgIHRoaXMuX3NldHVwQWREaXNwbGF5Q29udGFpbmVyKCk7XG5cbiAgICAvLyBTZXR1cCB0aGUgSU1BIFNESy5cbiAgICB0aGlzLl9zZXR1cElNQSgpO1xuXG4gICAgLy8gU2V0IGxpc3RlbmVycyBvbiB0aGUgUGx5ciBpbnN0YW5jZS5cbiAgICB0aGlzLl9zZXR1cExpc3RlbmVycygpO1xuICB9XG5cbiAgX3NldHVwSU1BKCkge1xuICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSB0aGlzLnBseXIuZWxlbWVudHM7XG5cbiAgICAvLyBDcmVhdGUgYWRzIGxvYWRlci5cbiAgICB0aGlzLmFkc0xvYWRlciA9IG5ldyBnb29nbGUuaW1hLkFkc0xvYWRlcihcbiAgICAgIHRoaXMuYWREaXNwbGF5Q29udGFpbmVyLFxuICAgICAgdGhpcy52aWRlb0VsZW1lbnRcbiAgICApO1xuXG4gICAgLy8gVGVsbCB0aGUgYWRzTG9hZGVyIHdlIGFyZSBoYW5kbGluZyBhZCBicmVha3MgbWFudWFsbHkuXG4gICAgdGhpcy5hZHNMb2FkZXIuZ2V0U2V0dGluZ3MoKS5zZXRBdXRvUGxheUFkQnJlYWtzKGZhbHNlKTtcblxuICAgIC8vIExpc3RlbiBhbmQgcmVzcG9uZCB0byBhZHMgbG9hZGVkIGFuZCBlcnJvciBldmVudHMuXG4gICAgdGhpcy5hZHNMb2FkZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIGdvb2dsZS5pbWEuQWRzTWFuYWdlckxvYWRlZEV2ZW50LlR5cGUuQURTX01BTkFHRVJfTE9BREVELFxuICAgICAgYWRFdmVudCA9PiB0aGlzLl9vbkFkc01hbmFnZXJMb2FkZWQoYWRFdmVudCksXG4gICAgICBmYWxzZVxuICAgICk7XG4gICAgdGhpcy5hZHNMb2FkZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIGdvb2dsZS5pbWEuQWRFcnJvckV2ZW50LlR5cGUuQURfRVJST1IsXG4gICAgICBhZEVycm9yID0+IHRoaXMuX29uQWRFcnJvcihhZEVycm9yKSxcbiAgICAgIGZhbHNlXG4gICAgKTtcblxuICAgIC8vIFJlcXVlc3QgdmlkZW8gYWRzLlxuICAgIGNvbnN0IGFkc1JlcXVlc3QgPSBuZXcgZ29vZ2xlLmltYS5BZHNSZXF1ZXN0KCk7XG4gICAgYWRzUmVxdWVzdC5hZFRhZ1VybCA9IHRoaXMuY29uZmlnLmFkVGFnVXJsO1xuXG4gICAgLy8gU3BlY2lmeSB0aGUgbGluZWFyIGFuZCBub25saW5lYXIgc2xvdCBzaXplcy4gVGhpcyBoZWxwcyB0aGUgU0RLIHRvXG4gICAgLy8gc2VsZWN0IHRoZSBjb3JyZWN0IGNyZWF0aXZlIGlmIG11bHRpcGxlIGFyZSByZXR1cm5lZC5cbiAgICBhZHNSZXF1ZXN0LmxpbmVhckFkU2xvdFdpZHRoID0gY29udGFpbmVyLm9mZnNldFdpZHRoO1xuICAgIGFkc1JlcXVlc3QubGluZWFyQWRTbG90SGVpZ2h0ID0gY29udGFpbmVyLm9mZnNldEhlaWdodDtcbiAgICBhZHNSZXF1ZXN0Lm5vbkxpbmVhckFkU2xvdFdpZHRoID0gY29udGFpbmVyLm9mZnNldFdpZHRoO1xuICAgIGFkc1JlcXVlc3Qubm9uTGluZWFyQWRTbG90SGVpZ2h0ID0gY29udGFpbmVyLm9mZnNldEhlaWdodDtcblxuICAgIHRoaXMuYWRzTG9hZGVyLnJlcXVlc3RBZHMoYWRzUmVxdWVzdCk7XG4gIH1cblxuICBfb25BZHNNYW5hZ2VyTG9hZGVkKGFkc01hbmFnZXJMb2FkZWRFdmVudCkge1xuICAgIGNvbnN0IHsgdmlkZW9FbGVtZW50IH0gPSB0aGlzO1xuXG4gICAgLy8gR2V0IHRoZSBhZHMgbWFuYWdlci5cbiAgICBjb25zdCBhZHNSZW5kZXJpbmdTZXR0aW5ncyA9IG5ldyBnb29nbGUuaW1hLkFkc1JlbmRlcmluZ1NldHRpbmdzKCk7XG4gICAgYWRzUmVuZGVyaW5nU2V0dGluZ3MucmVzdG9yZUN1c3RvbVBsYXliYWNrU3RhdGVPbkFkQnJlYWtDb21wbGV0ZSA9IHRydWU7XG4gICAgYWRzUmVuZGVyaW5nU2V0dGluZ3MuZW5hYmxlUHJlbG9hZGluZyA9IHRydWU7XG5cbiAgICAvLyBUaGUgU0RLIGlzIHBvbGxpbmcgY3VycmVudFRpbWUgb24gdGhlIGNvbnRlbnRQbGF5YmFjay4gQW5kIG5lZWRzIGEgZHVyYXRpb25cbiAgICAvLyBzbyBpdCBjYW4gZGV0ZXJtaW5lIHdoZW4gdG8gc3RhcnQgdGhlIG1pZC0gYW5kIHBvc3Qtcm9sbC5cbiAgICB0aGlzLmFkc01hbmFnZXIgPSBhZHNNYW5hZ2VyTG9hZGVkRXZlbnQuZ2V0QWRzTWFuYWdlcihcbiAgICAgIHZpZGVvRWxlbWVudCxcbiAgICAgIGFkc1JlbmRlcmluZ1NldHRpbmdzXG4gICAgKTtcblxuICAgIC8vIEdldCB0aGUgY3VlIHBvaW50cyBmb3IgYW55IG1pZC1yb2xscyBieSBmaWx0ZXJpbmcgb3V0IHRoZSBwcmUtIGFuZCBwb3N0LXJvbGwuXG4gICAgdGhpcy5hZHNDdWVQb2ludHMgPSB0aGlzLmFkc01hbmFnZXJcbiAgICAgIC5nZXRDdWVQb2ludHMoKVxuICAgICAgLmZpbHRlcih4ID0+IHggPiAwICYmIHggIT09IC0xKTtcblxuICAgIC8vIEFkZCBsaXN0ZW5lcnMgdG8gdGhlIHJlcXVpcmVkIGV2ZW50cy5cbiAgICB0aGlzLmFkc01hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIGdvb2dsZS5pbWEuQWRFcnJvckV2ZW50LlR5cGUuQURfRVJST1IsXG4gICAgICBhZEVycm9yID0+IHRoaXMuX29uQWRFcnJvcihhZEVycm9yKVxuICAgICk7XG4gICAgLy8gdGhpcy5hZHNNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgLy8gICAgIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLkNPTlRFTlRfUEFVU0VfUkVRVUVTVEVELFxuICAgIC8vICAgICBhZEV2ZW50ID0+IHRoaXMuX29uQ29udGVudFBhdXNlUmVxdWVzdGVkKGFkRXZlbnQpKTtcbiAgICAvLyB0aGlzLmFkc01hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAvLyAgICAgZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuQ09OVEVOVF9SRVNVTUVfUkVRVUVTVEVELFxuICAgIC8vICAgICBhZEV2ZW50ID0+IHRoaXMuX29uQ29udGVudFJlc3VtZVJlcXVlc3RlZChhZEV2ZW50KSk7XG4gICAgdGhpcy5hZHNNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5BTExfQURTX0NPTVBMRVRFRCxcbiAgICAgIGFkRXZlbnQgPT4gdGhpcy5fb25BZEV2ZW50KGFkRXZlbnQpXG4gICAgKTtcbiAgICB0aGlzLmFkc01hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLkFEX0JSRUFLX1JFQURZLFxuICAgICAgYWRFdmVudCA9PiB0aGlzLl9vbkFkRXZlbnQoYWRFdmVudClcbiAgICApO1xuXG4gICAgLy8gTGlzdGVuIHRvIGFueSBhZGRpdGlvbmFsIGV2ZW50cywgaWYgbmVjZXNzYXJ5LlxuICAgIHRoaXMuYWRzTWFuYWdlci5hZGRFdmVudExpc3RlbmVyKGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLkxPQURFRCwgYWRFdmVudCA9PlxuICAgICAgdGhpcy5fb25BZEV2ZW50KGFkRXZlbnQpXG4gICAgKTtcbiAgICB0aGlzLmFkc01hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5TVEFSVEVELCBhZEV2ZW50ID0+XG4gICAgICB0aGlzLl9vbkFkRXZlbnQoYWRFdmVudClcbiAgICApO1xuICAgIHRoaXMuYWRzTWFuYWdlci5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuQ09NUExFVEUsXG4gICAgICBhZEV2ZW50ID0+IHRoaXMuX29uQWRFdmVudChhZEV2ZW50KVxuICAgICk7XG4gIH1cblxuICBfb25BZEV2ZW50KGFkRXZlbnQpIHtcbiAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gdGhpcy5wbHlyLmVsZW1lbnRzO1xuXG4gICAgLy8gUmV0cmlldmUgdGhlIGFkIGZyb20gdGhlIGV2ZW50LiBTb21lIGV2ZW50cyAoZS5nLiBBTExfQURTX0NPTVBMRVRFRClcbiAgICAvLyBkb24ndCBoYXZlIGFkIG9iamVjdCBhc3NvY2lhdGVkLlxuICAgIGNvbnN0IGFkID0gYWRFdmVudC5nZXRBZCgpO1xuXG4gICAgLy8gbGV0IGludGVydmFsVGltZXI7XG5cbiAgICBzd2l0Y2ggKGFkRXZlbnQudHlwZSkge1xuICAgICAgY2FzZSBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5MT0FERUQ6XG4gICAgICAgIC8vIFRoaXMgaXMgdGhlIGZpcnN0IGV2ZW50IHNlbnQgZm9yIGFuIGFkIC0gaXQgaXMgcG9zc2libGUgdG9cbiAgICAgICAgLy8gZGV0ZXJtaW5lIHdoZXRoZXIgdGhlIGFkIGlzIGEgdmlkZW8gYWQgb3IgYW4gb3ZlcmxheS5cblxuICAgICAgICAvLyBTaG93IHRoZSBhZCBkaXNwbGF5IGVsZW1lbnQuXG4gICAgICAgIHRoaXMuYWREaXNwbGF5RWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuXG4gICAgICAgIGlmICghYWQuaXNMaW5lYXIoKSkge1xuICAgICAgICAgIC8vIFBvc2l0aW9uIEFkRGlzcGxheUNvbnRhaW5lciBjb3JyZWN0bHkgZm9yIG92ZXJsYXkuXG4gICAgICAgICAgYWQud2lkdGggPSBjb250YWluZXIub2Zmc2V0V2lkdGg7XG4gICAgICAgICAgYWQuaGVpZ2h0ID0gY29udGFpbmVyLm9mZnNldEhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuU1RBUlRFRDpcbiAgICAgICAgLy8gVGhpcyBldmVudCBpbmRpY2F0ZXMgdGhlIGFkIGhhcyBzdGFydGVkIC0gdGhlIHZpZGVvIHBsYXllclxuICAgICAgICAvLyBjYW4gYWRqdXN0IHRoZSBVSSwgZm9yIGV4YW1wbGUgZGlzcGxheSBhIHBhdXNlIGJ1dHRvbiBhbmRcbiAgICAgICAgLy8gcmVtYWluaW5nIHRpbWUuXG5cbiAgICAgICAgdGhpcy5wbHlyLnBhdXNlKCk7XG5cbiAgICAgICAgLy8gaWYgKGFkLmlzTGluZWFyKCkpIHtcbiAgICAgICAgLy8gRm9yIGEgbGluZWFyIGFkLCBhIHRpbWVyIGNhbiBiZSBzdGFydGVkIHRvIHBvbGwgZm9yXG4gICAgICAgIC8vIHRoZSByZW1haW5pbmcgdGltZS5cbiAgICAgICAgLy8gaW50ZXJ2YWxUaW1lciA9IHNldEludGVydmFsKFxuICAgICAgICAvLyAgICAgKCkgPT4ge1xuICAgICAgICAvLyAgICAgICBsZXQgcmVtYWluaW5nVGltZSA9IHRoaXMuYWRzTWFuYWdlci5nZXRSZW1haW5pbmdUaW1lKCk7XG4gICAgICAgIC8vICAgICAgIGNvbnNvbGUubG9nKHJlbWFpbmluZ1RpbWUpO1xuICAgICAgICAvLyAgICAgfSxcbiAgICAgICAgLy8gICAgIDMwMCk7IC8vIGV2ZXJ5IDMwMG1zXG4gICAgICAgIC8vIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLkFEX0JSRUFLX1JFQURZOlxuICAgICAgICAvLyBUaGlzIGV2ZW50IGluZGljYXRlcyB0aGF0IGEgbWlkLXJvbGwgYWQgaXMgcmVhZHkgdG8gc3RhcnQuXG4gICAgICAgIC8vIFdlIHBhdXNlIHRoZSBwbGF5ZXIgYW5kIHRlbGwgdGhlIGFkc01hbmFnZXIgdG8gc3RhcnQgcGxheWluZyB0aGUgYWQuXG4gICAgICAgIHRoaXMucGx5ci5wYXVzZSgpO1xuICAgICAgICB0aGlzLmFkc01hbmFnZXIuc3RhcnQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLkNPTVBMRVRFOlxuICAgICAgICAvLyBUaGlzIGV2ZW50IGluZGljYXRlcyB0aGUgYWQgaGFzIGZpbmlzaGVkIC0gdGhlIHZpZGVvIHBsYXllclxuICAgICAgICAvLyBjYW4gcGVyZm9ybSBhcHByb3ByaWF0ZSBVSSBhY3Rpb25zLCBzdWNoIGFzIHJlbW92aW5nIHRoZSB0aW1lciBmb3JcbiAgICAgICAgLy8gcmVtYWluaW5nIHRpbWUgZGV0ZWN0aW9uLlxuICAgICAgICAvLyBjbGVhckludGVydmFsKGludGVydmFsVGltZXIpO1xuXG4gICAgICAgIHRoaXMuYWREaXNwbGF5RWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIGlmICh0aGlzLnBseXIuY3VycmVudFRpbWUgPCB0aGlzLnBseXIuZHVyYXRpb24pIHtcbiAgICAgICAgICB0aGlzLnBseXIucGxheSgpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5BTExfQURTX0NPTVBMRVRFRDpcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBfb25BZEVycm9yKGFkRXJyb3JFdmVudCkge1xuICAgIC8vIEhhbmRsZSB0aGUgZXJyb3IgbG9nZ2luZy5cbiAgICB0aGlzLmFkRGlzcGxheUVsZW1lbnQucmVtb3ZlKCk7XG5cbiAgICBpZiAodGhpcy5hZHNNYW5hZ2VyKSB7XG4gICAgICB0aGlzLmFkc01hbmFnZXIuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmNvbmZpZy5kZWJ1Zykge1xuICAgICAgY29uc29sZS5sb2coYWRFcnJvckV2ZW50KTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihhZEVycm9yRXZlbnQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHdoZXJlIHlvdSBzaG91bGQgc2V0dXAgVUkgZm9yIHNob3dpbmcgYWRzIChlLmcuXG4gICAqIGRpc3BsYXkgYWQgdGltZXIgY291bnRkb3duLCBkaXNhYmxlIHNlZWtpbmcgZXRjLilcbiAgICovXG4gIF9vbkNvbnRlbnRQYXVzZVJlcXVlc3RlZCgpIHtcbiAgICAvLyBQYXVzZSB0aGUgcGxheWVyLlxuICAgIHRoaXMucGx5ci5wYXVzZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgd2hlcmUgeW91IHNob3VsZCBlbnN1cmUgdGhhdCB5b3VyIFVJIGlzIHJlYWR5XG4gICAqIHRvIHBsYXkgY29udGVudC4gSXQgaXMgdGhlIHJlc3BvbnNpYmlsaXR5IG9mIHRoZSBQdWJsaXNoZXIgdG9cbiAgICogaW1wbGVtZW50IHRoaXMgZnVuY3Rpb24gd2hlbiBuZWNlc3NhcnkuXG4gICAqL1xuICBfb25Db250ZW50UmVzdW1lUmVxdWVzdGVkKCkge1xuICAgIC8vIFJlc3VtZSB0aGUgcGxheWVyLlxuICAgIHRoaXMucGx5ci5wbGF5KCk7XG4gIH1cblxuICBfc2V0dXBBZERpc3BsYXlDb250YWluZXIoKSB7XG4gICAgY29uc3QgeyBjb250YWluZXIsIG9yaWdpbmFsIH0gPSB0aGlzLnBseXIuZWxlbWVudHM7XG5cbiAgICAvLyBXZSBhc3N1bWUgdGhlIGFkQ29udGFpbmVyIGlzIHRoZSB2aWRlbyBjb250YWluZXIgb2YgdGhlIHBseXIgZWxlbWVudFxuICAgIC8vIHRoYXQgd2lsbCBob3VzZSB0aGUgYWRzLlxuICAgIHRoaXMuYWREaXNwbGF5Q29udGFpbmVyID0gbmV3IGdvb2dsZS5pbWEuQWREaXNwbGF5Q29udGFpbmVyKGNvbnRhaW5lcik7XG5cbiAgICB0aGlzLmFkRGlzcGxheUVsZW1lbnQgPSBjb250YWluZXIuZmlyc3RDaGlsZDtcblxuICAgIC8vIFRoZSBBZERpc3BsYXlDb250YWluZXIgY2FsbCBmcm9tIGdvb2dsZSBJTUEgc2V0cyB0aGUgc3R5bGUgYXR0cmlidXRlXG4gICAgLy8gYnkgZGVmYXVsdC4gV2UgcmVtb3ZlIHRoZSBpbmxpbmUgc3R5bGUgYW5kIHNldCBpdCB0aHJvdWdoIHRoZSBzdHlsZXNoZWV0LlxuICAgIHRoaXMuYWREaXNwbGF5RWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJzdHlsZVwiKTtcblxuICAgIC8vIFNldCBjbGFzcyBuYW1lIG9uIHRoZSBhZERpc3BsYXlDb250YWluZXIgZWxlbWVudC5cbiAgICB0aGlzLmFkRGlzcGxheUVsZW1lbnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJwbHlyLWFkc1wiKTtcblxuICAgIC8vIFBsYXkgYWRzIHdoZW4gY2xpY2tlZC5cbiAgICB0aGlzLl9zZXRPbkNsaWNrSGFuZGxlcih0aGlzLmFkRGlzcGxheUVsZW1lbnQsIHRoaXMuX3BsYXlBZHMpO1xuICB9XG5cbiAgX3BsYXlBZHMoKSB7XG4gICAgY29uc3QgeyBjb250YWluZXIgfSA9IHRoaXMucGx5ci5lbGVtZW50cztcblxuICAgIC8vIEluaXRpYWxpemUgdGhlIGNvbnRhaW5lci4gTXVzdCBiZSBkb25lIHZpYSBhIHVzZXIgYWN0aW9uIG9uIG1vYmlsZSBkZXZpY2VzLlxuICAgIHRoaXMuYWREaXNwbGF5Q29udGFpbmVyLmluaXRpYWxpemUoKTtcblxuICAgIHRyeSB7XG4gICAgICAvLyBJbml0aWFsaXplIHRoZSBhZHMgbWFuYWdlci4gQWQgcnVsZXMgcGxheWxpc3Qgd2lsbCBzdGFydCBhdCB0aGlzIHRpbWUuXG4gICAgICB0aGlzLmFkc01hbmFnZXIuaW5pdChcbiAgICAgICAgY29udGFpbmVyLm9mZnNldFdpZHRoLFxuICAgICAgICBjb250YWluZXIub2Zmc2V0SGVpZ2h0LFxuICAgICAgICBnb29nbGUuaW1hLlZpZXdNb2RlLk5PUk1BTFxuICAgICAgKTtcblxuICAgICAgLy8gQ2FsbCBwbGF5IHRvIHN0YXJ0IHNob3dpbmcgdGhlIGFkLiBTaW5nbGUgdmlkZW8gYW5kIG92ZXJsYXkgYWRzIHdpbGxcbiAgICAgIC8vIHN0YXJ0IGF0IHRoaXMgdGltZTsgdGhlIGNhbGwgd2lsbCBiZSBpZ25vcmVkIGZvciBhZCBydWxlcy5cbiAgICAgIHRoaXMuYWRzTWFuYWdlci5zdGFydCgpO1xuICAgIH0gY2F0Y2ggKGFkRXJyb3IpIHtcbiAgICAgIC8vIEFuIGVycm9yIG1heSBiZSB0aHJvd24gaWYgdGhlcmUgd2FzIGEgcHJvYmxlbSB3aXRoIHRoZSBWQVNUIHJlc3BvbnNlLlxuICAgICAgdGhpcy5wbHlyLnBsYXkoKTtcbiAgICAgIHRoaXMuYWREaXNwbGF5RWxlbWVudC5yZW1vdmUoKTtcblxuICAgICAgaWYgKHRoaXMuY29uZmlnLmRlYnVnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihhZEVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0dXAgaG9va3MgZm9yIFBseXIgYW5kIHdpbmRvdyBldmVudHMuIFRoaXMgZW5zdXJlc1xuICAgKiB0aGUgbWlkLSBhbmQgcG9zdC1yb2xsIGxhdW5jaCBhdCB0aGUgY29ycmVjdCB0aW1lLiBBbmRcbiAgICogcmVzaXplIHRoZSBhZHZlcnRpc2VtZW50IHdoZW4gdGhlIHBsYXllciByZXNpemVzLlxuICAgKi9cbiAgX3NldHVwTGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSB0aGlzLnBseXIuZWxlbWVudHM7XG4gICAgbGV0IGN1cnJlbnRUaW1lO1xuXG4gICAgLy8gQWRkIGxpc3RlbmVycyB0byB0aGUgcmVxdWlyZWQgZXZlbnRzLlxuICAgIHRoaXMucGx5ci5vbihcImVuZGVkXCIsIGV2ZW50ID0+IHtcbiAgICAgIHRoaXMuYWRzTG9hZGVyLmNvbnRlbnRDb21wbGV0ZSgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5wbHlyLm9uKFwidGltZXVwZGF0ZVwiLCBldmVudCA9PiB7XG4gICAgICBjb25zdCB7IGN1cnJlbnRUaW1lIH0gPSBldmVudC5kZXRhaWwucGx5cjtcbiAgICAgIHRoaXMudmlkZW9FbGVtZW50LmN1cnJlbnRUaW1lID0gTWF0aC5jZWlsKGN1cnJlbnRUaW1lKTtcbiAgICB9KTtcblxuICAgIHRoaXMucGx5ci5vbihcbiAgICAgIFwic2Vla2luZ1wiLFxuICAgICAgZXZlbnQgPT4gKGN1cnJlbnRUaW1lID0gZXZlbnQuZGV0YWlsLnBseXIuY3VycmVudFRpbWUpXG4gICAgKTtcblxuICAgIHRoaXMucGx5ci5vbihcInNlZWtlZFwiLCBldmVudCA9PiB7XG4gICAgICBjb25zdCBzZWVrZWRUaW1lID0gZXZlbnQuZGV0YWlsLnBseXIuY3VycmVudFRpbWU7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5hZHNDdWVQb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY3VlUG9pbnQgPSB0aGlzLmFkc0N1ZVBvaW50c1tpXTtcbiAgICAgICAgaWYgKGN1cnJlbnRUaW1lIDwgY3VlUG9pbnQgJiYgY3VlUG9pbnQgPCBzZWVrZWRUaW1lKSB7XG4gICAgICAgICAgdGhpcy5hZHNNYW5hZ2VyLmRpc2NhcmRBZEJyZWFrKCk7XG4gICAgICAgICAgdGhpcy5hZHNDdWVQb2ludHMuc3BsaWNlKGksIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBMaXN0ZW4gdG8gdGhlIHJlc2l6aW5nIG9mIHRoZSB3aW5kb3cuIEFuZCByZXNpemUgYWQgYWNjb3JkaW5nbHkuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5hZHNNYW5hZ2VyLnJlc2l6ZShcbiAgICAgICAgY29udGFpbmVyLm9mZnNldFdpZHRoLFxuICAgICAgICBjb250YWluZXIub2Zmc2V0SGVpZ2h0LFxuICAgICAgICBnb29nbGUuaW1hLlZpZXdNb2RlLk5PUk1BTFxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgc3RhcnQgZXZlbnQgbGlzdGVuZXIgb24gYSBET00gZWxlbWVudCBhbmQgdHJpZ2dlcnMgdGhlXG4gICAqIGNhbGxiYWNrIHdoZW4gY2xpY2tlZC5cbiAgICogQHBhcmFtIHtIdG1sRWxtZW50fSBlbGVtZW50IC0gVGhlIGVsZW1lbnQgb24gd2hpY2ggdG8gc2V0IHRoZSBsaXN0ZW5lclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIFRoZSBjYWxsYmFjayB3aGljaCB3aWxsIGJlIGludm9rZWQgb25jZSB0cmlnZ2VyZWQuXG4gICAqL1xuXG4gIF9zZXRPbkNsaWNrSGFuZGxlcihlbGVtZW50LCBjYWxsYmFjaykge1xuICAgIGZvciAobGV0IHN0YXJ0RXZlbnQgb2YgdGhpcy5zdGFydEV2ZW50cykge1xuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBzdGFydEV2ZW50LFxuICAgICAgICBldmVudCA9PiB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgKGV2ZW50LnR5cGUgPT09IFwidG91Y2hlbmRcIiAmJiBzdGFydEV2ZW50ID09PSBcInRvdWNoZW5kXCIpIHx8XG4gICAgICAgICAgICBldmVudC50eXBlID09PSBcImNsaWNrXCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwodGhpcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB7IG9uY2U6IHRydWUgfVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkIGV2ZW50IGxpc3RlbmVyc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnQgLSBFdmVudCB0eXBlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gQ2FsbGJhY2sgZm9yIHdoZW4gZXZlbnQgb2NjdXJzXG4gICAqL1xuICBvbihldmVudCwgY2FsbGJhY2spIHtcbiAgICB1dGlscy5vbih0aGlzLmVsZW1lbnRzLmNvbnRhaW5lciwgZXZlbnQsIGNhbGxiYWNrKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGluaXQ6ICh0YXJnZXQsIG9wdGlvbnMpID0+IG5ldyBQbHlyQWRzKHRhcmdldCwgb3B0aW9ucylcbn07XG4iXSwibmFtZXMiOlsiZGVmYXVsdHMiLCJ1dGlscyIsInN0YXJ0RXZlbnRzIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwibWF0Y2giLCJvcHRpb25zIiwiUGx5ckFkcyIsInRhcmdldCIsImNvbmZpZyIsIm1lcmdlQ29uZmlnIiwidGhpcyIsImFkVGFnVXJsIiwiZGVidWciLCJ3aW5kb3ciLCJnb29nbGUiLCJwbHlyIiwiZ2V0U3RhcnRFdmVudHMiLCJhZERpc3BsYXlDb250YWluZXIiLCJhZERpc3BsYXlFbGVtZW50IiwiYWRzTWFuYWdlciIsImFkc0xvYWRlciIsImFkQ3VlUG9pbnRzIiwidmlkZW9FbGVtZW50IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiX3NldHVwQWREaXNwbGF5Q29udGFpbmVyIiwiX3NldHVwSU1BIiwiX3NldHVwTGlzdGVuZXJzIiwiRXJyb3IiLCJjb250YWluZXIiLCJlbGVtZW50cyIsImltYSIsIkFkc0xvYWRlciIsImdldFNldHRpbmdzIiwic2V0QXV0b1BsYXlBZEJyZWFrcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJBZHNNYW5hZ2VyTG9hZGVkRXZlbnQiLCJUeXBlIiwiQURTX01BTkFHRVJfTE9BREVEIiwiX3RoaXMiLCJfb25BZHNNYW5hZ2VyTG9hZGVkIiwiYWRFdmVudCIsIkFkRXJyb3JFdmVudCIsIkFEX0VSUk9SIiwiX29uQWRFcnJvciIsImFkRXJyb3IiLCJhZHNSZXF1ZXN0IiwiQWRzUmVxdWVzdCIsImxpbmVhckFkU2xvdFdpZHRoIiwib2Zmc2V0V2lkdGgiLCJsaW5lYXJBZFNsb3RIZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJub25MaW5lYXJBZFNsb3RXaWR0aCIsIm5vbkxpbmVhckFkU2xvdEhlaWdodCIsInJlcXVlc3RBZHMiLCJhZHNNYW5hZ2VyTG9hZGVkRXZlbnQiLCJhZHNSZW5kZXJpbmdTZXR0aW5ncyIsIkFkc1JlbmRlcmluZ1NldHRpbmdzIiwicmVzdG9yZUN1c3RvbVBsYXliYWNrU3RhdGVPbkFkQnJlYWtDb21wbGV0ZSIsImVuYWJsZVByZWxvYWRpbmciLCJnZXRBZHNNYW5hZ2VyIiwiYWRzQ3VlUG9pbnRzIiwiZ2V0Q3VlUG9pbnRzIiwiZmlsdGVyIiwieCIsIl90aGlzMiIsIkFkRXZlbnQiLCJBTExfQURTX0NPTVBMRVRFRCIsIl9vbkFkRXZlbnQiLCJBRF9CUkVBS19SRUFEWSIsIkxPQURFRCIsIlNUQVJURUQiLCJDT01QTEVURSIsImFkIiwiZ2V0QWQiLCJ0eXBlIiwic3R5bGUiLCJkaXNwbGF5IiwiaXNMaW5lYXIiLCJ3aWR0aCIsImhlaWdodCIsInBhdXNlIiwic3RhcnQiLCJjdXJyZW50VGltZSIsImR1cmF0aW9uIiwicGxheSIsImFkRXJyb3JFdmVudCIsInJlbW92ZSIsImRlc3Ryb3kiLCJsb2ciLCJBZERpc3BsYXlDb250YWluZXIiLCJmaXJzdENoaWxkIiwicmVtb3ZlQXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwiX3NldE9uQ2xpY2tIYW5kbGVyIiwiX3BsYXlBZHMiLCJpbml0aWFsaXplIiwiaW5pdCIsIlZpZXdNb2RlIiwiTk9STUFMIiwib24iLCJjb250ZW50Q29tcGxldGUiLCJldmVudCIsImRldGFpbCIsIk1hdGgiLCJjZWlsIiwic2Vla2VkVGltZSIsImkiLCJfdGhpczMiLCJsZW5ndGgiLCJjdWVQb2ludCIsImRpc2NhcmRBZEJyZWFrIiwic3BsaWNlIiwicmVzaXplIiwiZWxlbWVudCIsImNhbGxiYWNrIiwic3RhcnRFdmVudCIsImNhbGwiLCJvbmNlIl0sIm1hcHBpbmdzIjoiNkxBQ0EsSUFBTUEsWUFDUSx3QkFFRyxPQUNILGdCQUNDLHk1Q0NKRkMsa0JBR08sZUFDUkMsR0FBZSxnQkFJZkMsVUFBVUMsVUFBVUMsTUFBTSxZQUMxQkYsVUFBVUMsVUFBVUMsTUFBTSxVQUMxQkYsVUFBVUMsVUFBVUMsTUFBTSxrQkFDWCxh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
